## 要件

機能要件

- 必須
  - 書籍検索 + 表紙取得
  - 9冊リスト作成・編集（ログイン必須）
  - 表紙クリックでAmazonアフィリエイトリンク + 紹介文を表示
  - SNS共有
    - Twitter
    - リンクコピー
  - OGP（動的OG画像生成 by @vercel/og）
  - Analytics
  - 閲覧はログイン不要（URLシェアで誰でも閲覧可能）
- スコープ外（将来検討）
  - スクリーンショット共有（CORS・Canvas汚染問題があるため除外）
  - レイアウト崩れ対策（アスペクト比統一は後回し）
- v2
  - 各本に対してコメント
  - ネタバレON/OFF
  - 複数リスト管理（ジャンル別・年ベスト別など）
  - いいね/ブックマーク
  - SNS共有
    - Instagram
    - その他

ビジネス要件

- Amazonアフィリエイト（表紙クリック → アフィリエイトリンク経由で商品ページへ）
- できればWeb広告
- Analytics計測

## 認証設計

- 閲覧: ログイン不要
- 作成・編集: ログイン必須
- フロー: 「作成」ボタン押下 → ログイン画面へ誘導 → ログイン後に作成画面へ

## 実装

- フロント: React + Tailwind + React Router v7
- デプロイ: Vercel
- OGP画像生成: @vercel/og（Vercel Edge Function）
- DB: Turso（libSQL / D1互換のSQLite）
- 認証: 未定（検討中）

## 検討

- Amazon PA API の利用可否確認（アソシエイト登録状況次第）
- Amazon PA API が使えない場合の代替: Google Books API / Open Library API
- 認証プロバイダー選定（NextAuth / Clerk / Supabase Auth 等）

## 憂慮

- Amazon PA API はアソシエイト承認が必要 → 代替手段を並行検討
- Amazon画像の直リンク利用規約リスク → サーバサイドproxyが必要か要確認
- OGP画像内でAmazon表紙画像を使う場合のサーバサイドfetch対応

---

想像段階

## ユーザーフレンドリー

- 9以下で登録のとき確認を取る
- 使い方ボタンを右上端に
- 制作者情報もその隣
-
